<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.collections.FXCollections?>
<?import javafx.embed.swing.SwingNode?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.ContextMenu?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>
<?import ru.ekipogh.sud.objects.ItemTypes?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.121" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="ru.ekipogh.sud.controllers.EditorController">
    <center>
        <TabPane prefHeight="1024.0" prefWidth="1280.0" tabClosingPolicy="UNAVAILABLE"
                 xmlns="http://javafx.com/javafx/8.0.121" xmlns:fx="http://javafx.com/fxml/1">
            <Tab text="Game">
                <TabPane prefHeight="200.0" prefWidth="200.0" tabClosingPolicy="UNAVAILABLE">
                    <Tab text="Common">
                        <GridPane hgap="10.0" vgap="10.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0"/>
                                <ColumnConstraints percentWidth="80.0"/>
                            </columnConstraints>
                            <padding>
                                <Insets bottom="5.0" left="5.0" right="5.0" top="5.0"/>
                            </padding>
                            <Label text="Name of the game" GridPane.columnIndex="0" GridPane.halignment="RIGHT"
                                   GridPane.rowIndex="0" GridPane.valignment="TOP"/>
                            <Label text="Description" GridPane.columnIndex="0" GridPane.halignment="RIGHT"
                                   GridPane.rowIndex="1" GridPane.valignment="TOP"/>
                            <TextField fx:id="gameName" onKeyReleased="#saveGameName" prefWidth="200.0"
                                       GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                            <ScrollPane fitToHeight="true" fitToWidth="true" GridPane.columnIndex="1"
                                        GridPane.rowIndex="1">
                                <content>
                                    <TextArea fx:id="gameDescription" onKeyReleased="#saveGameDescription"
                                              prefWidth="200.0" wrapText="true"/>
                                </content>
                            </ScrollPane>
                        </GridPane>
                    </Tab>
                    <Tab text="Init Script">
                        <BorderPane prefHeight="200.0" prefWidth="200.0">
                            <center>
                                <ScrollPane fitToHeight="true" fitToWidth="true">
                                    <content>
                                        <SwingNode fx:id="initScriptNode" onKeyReleased="#saveInitScript"/>
                                    </content>
                                </ScrollPane>
                            </center>
                            <padding>
                                <Insets bottom="5.0" left="5.0" right="5.0" top="5.0"/>
                            </padding>
                        </BorderPane>
                    </Tab>
                    <Tab text="Game Scripts">
                        <SplitPane dividerPositions="0.2" prefHeight="160.0" prefWidth="200.0">
                            <padding>
                                <Insets bottom="5.0" left="5.0" right="5.0" top="5.0"/>
                            </padding>
                            <ScrollPane fitToHeight="true" fitToWidth="true">
                                <ListView fx:id="gameScriptsList" prefHeight="200.0" prefWidth="200.0"/>
                            </ScrollPane>
                            <ScrollPane fitToHeight="true" fitToWidth="true">
                                <content>
                                    <SwingNode fx:id="gameScriptsNode" onKeyReleased="#saveGameScript"/>
                                </content>
                            </ScrollPane>
                        </SplitPane>
                    </Tab>
                    <Tab text="Timers">
                        <SplitPane dividerPositions="0.2">
                            <ScrollPane fitToHeight="true" fitToWidth="true">
                                <ListView fx:id="timersList">
                                    <contextMenu>
                                        <ContextMenu>
                                            <items>
                                                <MenuItem onAction="#addTimer" text="Add"/>
                                                <MenuItem onAction="#removeTimer" text="Remove"/>
                                            </items>
                                        </ContextMenu>
                                    </contextMenu>
                                </ListView>
                            </ScrollPane>
                            <BorderPane>
                                <top>
                                    <GridPane hgap="10.0" vgap="10.0">
                                        <Label text="Name:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                        <TextField fx:id="timerName" onKeyReleased="#saveTimerName" prefHeight="39.0"
                                                   prefWidth="950.0" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                                        <Label text="Step:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                        <TextField fx:id="timerStep" onKeyReleased="#saveTimerStep"
                                                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                                        <BorderPane.margin>
                                            <Insets bottom="5.0" left="5.0" right="5.0" top="5.0"/>
                                        </BorderPane.margin>
                                    </GridPane>
                                </top>
                                <center>
                                    <ScrollPane fitToHeight="true" fitToWidth="true">
                                        <BorderPane.margin>
                                            <Insets bottom="5.0" left="5.0" right="5.0" top="5.0"/>
                                        </BorderPane.margin>
                                        <content>
                                            <SwingNode fx:id="timerScriptNode" onKeyReleased="#saveTimerScript"/>
                                        </content>
                                    </ScrollPane>
                                </center>
                            </BorderPane>
                        </SplitPane>
                    </Tab>
                </TabPane>
            </Tab>
            <Tab text="Items">
                <SplitPane dividerPositions="0.2">
                    <ScrollPane fitToHeight="true" fitToWidth="true">
                        <ListView fx:id="itemsList">
                            <contextMenu>
                                <ContextMenu>
                                    <items>
                                        <MenuItem onAction="#addItem" text="Add"/>
                                        <MenuItem onAction="#removeItem" text="Remove"/>
                                    </items>
                                </ContextMenu>
                            </contextMenu>
                        </ListView>
                    </ScrollPane>
                    <TabPane>
                        <Tab closable="false" text="Common">
                            <GridPane>
                                <Label text="ID" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <Text fx:id="itemId" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                                <Label text="Name" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <TextField fx:id="itemName" onKeyReleased="#saveItemName" GridPane.columnIndex="1"
                                           GridPane.rowIndex="1"/>
                                <Label text="Description" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                <TextArea fx:id="itemDescription" onKeyReleased="#saveItemDescription"
                                          GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                                <Label text="Inventory" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                <HBox GridPane.columnIndex="1" GridPane.rowIndex="3">
                                    <CheckBox fx:id="isItemInventory" onAction="#setItemIsInventory" text="Yes"/>
                                    <CheckBox fx:id="isItemLocked" disable="true" onAction="#setItemIsLocked"
                                              text="Locked"/>
                                </HBox>
                                <Label text="Type" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                                <ChoiceBox fx:id="itemType" onAction="#setItemType" value="Common"
                                           GridPane.columnIndex="1" GridPane.rowIndex="4">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <ItemTypes fx:value="GENERIC"/>
                                            <ItemTypes fx:value="EQUIPPABLE"/>
                                            <ItemTypes fx:value="CONSUMABLE"/>
                                            <ItemTypes fx:value="STORABLE"/>
                                        </FXCollections>
                                    </items>
                                </ChoiceBox>
                                <Label text="Equipment slot" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                                <ChoiceBox fx:id="itemEquipmentSlot" onAction="#setItemEquipmentSlot"
                                           GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                            </GridPane>
                        </Tab>
                        <Tab closable="false" text="Scripts">
                            <SplitPane dividerPositions="0.2">
                                <ListView fx:id="itemScriptsList">
                                    <contextMenu>
                                        <ContextMenu>
                                            <items>
                                                <MenuItem onAction="#addItemScript" text="Add"/>
                                                <MenuItem onAction="#removeItemScript" text="Remove"/>
                                            </items>
                                        </ContextMenu>
                                    </contextMenu>
                                </ListView>
                                <BorderPane>
                                    <bottom>
                                        <CheckBox fx:id="itemScriptEnabled" onAction="#setItemScriptEnabled"
                                                  text="Enabled" BorderPane.alignment="CENTER_RIGHT"/>
                                    </bottom>
                                    <center>
                                        <ScrollPane fitToHeight="true" fitToWidth="true" BorderPane.alignment="CENTER">
                                            <content>
                                                <SwingNode fx:id="itemScriptNode" onKeyReleased="#saveItemScript"/>
                                            </content>
                                        </ScrollPane>
                                    </center>
                                </BorderPane>
                            </SplitPane>
                        </Tab>
                        <Tab closable="false" text="Categories">
                            <BorderPane>
                                <left>
                                    <ScrollPane fitToHeight="true" fitToWidth="true">
                                        <ListView fx:id="itemsCategories"/>
                                    </ScrollPane>
                                </left>
                                <center>
                                    <VBox alignment="CENTER">
                                        <Button onAction="#addCategoryToItem" text="&gt;&gt;"/>
                                        <Button onAction="#removeCategoryFromItem" text="&lt;&lt;"/>
                                    </VBox>
                                </center>
                                <right>
                                    <ScrollPane fitToHeight="true" fitToWidth="true">
                                        <ListView fx:id="itemCategories"/>
                                    </ScrollPane>
                                </right>
                            </BorderPane>
                        </Tab>
                        <Tab closable="false" text="Parameters">
                            <ScrollPane fitToHeight="true" fitToWidth="true">
                                <TableView fx:id="itemParameters" editable="true">
                                    <columns>
                                        <TableColumn fx:id="keyColumn" minWidth="500" text="Parameter">
                                        </TableColumn>
                                        <TableColumn fx:id="valueColumn" minWidth="500" onEditCommit="#changeValue"
                                                     text="Value">
                                        </TableColumn>
                                    </columns>
                                </TableView>
                            </ScrollPane>
                        </Tab>
                    </TabPane>
                </SplitPane>
            </Tab>
        </TabPane>
    </center>
    <top>
        <MenuBar BorderPane.alignment="CENTER">
            <Menu mnemonicParsing="false" text="File">
                <MenuItem mnemonicParsing="false" onAction="#openFile" text="Open"/>
            </Menu>
            <Menu mnemonicParsing="false" text="Edit">
                <MenuItem mnemonicParsing="false" text="Delete"/>
            </Menu>
            <Menu mnemonicParsing="false" text="Help">
                <MenuItem mnemonicParsing="false" text="About"/>
            </Menu>
        </MenuBar>
    </top>
</BorderPane>
